{
  "report": {
    "id": "f1f2a38d-991b-4833-b0bb-64b1a7f830ba",
    "remote_id": "25a29bdf-9a7a-4162-8951-6cd04351962e",
    "environment": "1bae4750-7067-4631-adb2-d8165462eb33",
    "requested": "2020-08-28T15:22:41.977336",
    "started": "2020-08-28T15:22:41.997758",
    "completed": "2020-08-28T15:22:42.777644",
    "do_export": true,
    "force_update": false,
    "metadata": {
      "type": "lsm_export",
      "message": "Recompile model because state transition",
      "event_type": "RESOURCE_TRANSITION",
      "event_correlation_id": "25a29bdf-9a7a-4162-8951-6cd04351962e"
    },
    "environment_variables": {
      "inmanta_model_state": "active"
    },
    "success": true,
    "handled": true,
    "version": 3,
    "compile_data": {
      "errors": []
    },
    "reports": [
      {
        "id": "c01e7206-d52c-4392-8d02-4d93a4d00902",
        "started": "2020-08-28T15:22:41.998187",
        "completed": "2020-08-28T15:22:41.999473",
        "command": "",
        "name": "Init",
        "errstream": "",
        "outstream": "Using extra environment variables during compile inmanta_model_state='active'\n",
        "returncode": 0,
        "compile": "f1f2a38d-991b-4833-b0bb-64b1a7f830ba"
      },
      {
        "id": "c6179cce-d233-404e-b4c7-71827208b7b6",
        "started": "2020-08-28T15:22:42.000052",
        "completed": "2020-08-28T15:22:42.776611",
        "command": "lsm/venv/bin/python -m inmanta.app -vvv export -X -e 1bae4750-7067-4631-adb2-d8165462eb33 --server_address localhost --server_port 8888 --metadata {\"type\": \"lsm_export\", \"message\": \"Recompile model because state transition\", \"event_type\": \"RESOURCE_TRANSITION\", \"event_correlation_id\": \"25a29bdf-9a7a-4162-8951-6cd04351962e\"} --export-compile-data --export-compile-data-file /tmp/tmpp5fx1_6f",
        "name": "Recompiling configuration model",
        "errstream": "",
        "outstream": "inmanta.env              INFO    Creating new virtual environment in ./.env\ninmanta.compiler         DEBUG   Starting compile\ninmanta.module           WARNING Module unittest is not version controlled, we recommend you do this as soon as possible.\ninmanta.module           INFO    verifying project\ninmanta.module           DEBUG   Loading module inmanta_plugins.lsm.typedef\ninmanta.loader           DEBUG   Loading module: inmanta_plugins\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.lsm\ninmanta.protocol.endpointsDEBUG   Start transport for client compiler\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.lsm.typedef\ninmanta.module           DEBUG   Loading module inmanta_plugins.lsm\ninmanta.module           DEBUG   Loading module inmanta_plugins.lsm.allocation\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.lsm.allocation\ninmanta.module           DEBUG   Loading module inmanta_plugins.std\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.std\ninmanta.module           DEBUG   Loading module inmanta_plugins.std.resources\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.std.resources\ninmanta.module           DEBUG   Loading module inmanta_plugins.unittest\ninmanta.loader           DEBUG   Loading module: inmanta_plugins.unittest\ninmanta.execute.schedulerDEBUG   Iteration 1 (e: 40, w: 0, p: 0, done: 0, time: 0.006238)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> <inmanta.execute.runtime.AttributeVariable object at 0x7f053b5486d8>.None.\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> ListVariable lsm::LifecycleStateMachine (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:238) lsm::LifecycleStateMachine.transfers = [lsm::StateTransfer 7f053b401288, lsm::StateTransfer 7f053b4013a8, lsm::StateTransfer 7f053b4014c8, lsm::StateTransfer 7f053b4015e8, lsm::StateTransfer 7f053b401708, lsm::StateTransfer 7f053b401828, lsm::StateTransfer 7f053b401948, lsm::StateTransfer 7f053b401a68, lsm::StateTransfer 7f053b401b88, lsm::StateTransfer 7f053b401ca8, lsm::StateTransfer 7f053b401dc8, lsm::StateTransfer 7f053b401ee8, lsm::StateTransfer 7f053b428048, lsm::StateTransfer 7f053b428168, lsm::StateTransfer 7f053b428288, lsm::StateTransfer 7f053b4283a8, lsm::StateTransfer 7f053b4284c8, lsm::StateTransfer 7f053b4285e8, lsm::StateTransfer 7f053b428708, lsm::StateTransfer 7f053b428828, lsm::StateTransfer 7f053b428948, lsm::StateTransfer 7f053b428a68, lsm::StateTransfer 7f053b428b88, lsm::StateTransfer 7f053b428ca8, lsm::StateTransfer 7f053b428dc8, lsm::StateTransfer 7f053b428ee8, lsm::StateTransfer 7f053b3cd048, lsm::StateTransfer 7f053b3cd168, lsm::StateTransfer 7f053b3cd288].None.\ninmanta.execute.schedulerDEBUG   Iteration 2 (e: 1, w: 41, p: 266, done: 1469, time: 0.021114)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:170) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 3 (e: 1, w: 0, p: 292, done: 1470, time: 0.000583)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:174) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 4 (e: 1, w: 0, p: 291, done: 1471, time: 0.000300)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:179) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 5 (e: 1, w: 0, p: 290, done: 1472, time: 0.000316)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:180) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 6 (e: 1, w: 0, p: 289, done: 1473, time: 0.000324)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:193) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 7 (e: 1, w: 0, p: 288, done: 1474, time: 0.000390)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:194) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 8 (e: 1, w: 0, p: 287, done: 1475, time: 0.000401)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:198) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 9 (e: 1, w: 0, p: 286, done: 1476, time: 0.000417)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:211) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 10 (e: 1, w: 0, p: 285, done: 1477, time: 0.000467)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:214) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 11 (e: 1, w: 0, p: 284, done: 1478, time: 0.000656)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:215) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 12 (e: 1, w: 0, p: 283, done: 1479, time: 0.000631)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:218) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 13 (e: 1, w: 0, p: 282, done: 1480, time: 0.000546)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:219) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 14 (e: 1, w: 0, p: 281, done: 1481, time: 0.000532)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:220) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 15 (e: 1, w: 0, p: 280, done: 1482, time: 0.000543)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:221) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 16 (e: 1, w: 0, p: 279, done: 1483, time: 0.000555)\ninmanta.ast.statements.callDEBUG   Unset value in python code in plugin <inmanta.ast.statements.call.PluginFunction object at 0x7f053b531278> OptionVariable lsm::StateTransfer (instantiated at /tmp/tmpahxv3ls2/libs/lsm/model/fsm.cf:222) lsm::StateTransfer.error = None.None.\ninmanta.execute.schedulerDEBUG   Moved zerowaiters to waiters\ninmanta.execute.schedulerDEBUG   Iteration 17 (e: 1, w: 0, p: 278, done: 1484, time: 0.000572)\nasyncio                  DEBUG   Using selector: EpollSelector\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server GET http://localhost:8888/lsm/v1/service_inventory/test_service\ninmanta.execute.schedulerDEBUG   Finishing statements with no waiters\ninmanta.execute.schedulerDEBUG   Iteration 18 (e: 5, w: 0, p: 0, done: 1535, time: 0.014460)\ninmanta.execute.schedulerDEBUG   Finishing statements with no waiters\ninmanta.execute.schedulerINFO    Iteration 18 (e: 0, w: 0, p: 0, done: 1545, time: 0.000086)\ninmanta.compiler         DEBUG   Compile done\ninmanta.protocol.endpointsDEBUG   Start transport for client compiler\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server POST http://localhost:8888/api/v2/reserve_version\ninmanta.protocol.endpointsDEBUG   Start transport for client compiler\ninmanta.export           INFO    Sending resources and handler source to server\ninmanta.export           INFO    Uploading source files\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server POST http://localhost:8888/api/v1/file\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server PUT http://localhost:8888/api/v1/codebatched/3\ninmanta.export           INFO    Uploading 0 files\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server POST http://localhost:8888/api/v1/file\ninmanta.export           INFO    Only 0 files are new and need to be uploaded\ninmanta.export           INFO    Sending resource updates to server\ninmanta.export           DEBUG     lsm::LifecycleTransfer[internal,instance_id=0695f245-f78f-4d10-b885-fbbef0db131a],v=3\ninmanta.export           DEBUG     unittest::Resource[internal,name=0695f245-f78f-4d10-b885-fbbef0db131a],v=3\ninmanta.protocol.rest.clientDEBUG   Getting config in section compiler_rest_transport\ninmanta.protocol.rest.clientDEBUG   Calling server PUT http://localhost:8888/api/v1/version\ninmanta.export           INFO    Committed resources with version 3\n",
        "returncode": 0,
        "compile": "f1f2a38d-991b-4833-b0bb-64b1a7f830ba"
      }
    ]
  }
}